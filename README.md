# SmartShopRecommender
通过dockercompose中的文件完成环境配置

### 主要以四个模块的主要工作流程:
-猜你喜欢（基于用户行为推荐）：
a. 使用用户画像，从用户的历史评分、浏览记录和购买记录中提取兴趣特征。
b. 结合多种推荐算法（ItemCF），计算商品之间和用户之间的相似度。
c. 根据用户画像和相似度计算结果，生成个性化的推荐商品列表。
d. 应用实时反馈机制，根据用户对推荐商品的实际反应（点击、收藏、购买等）动态调整推荐策略和参数。
-热门商品（历史热门商品）：
a. 从历史数据中统计各商品的浏览次数、销售量、收藏量等指标。
b. 对各指标进行加权计算，得到商品的热门程度。
c. 根据热门程度对商品进行排序，选取热门商品列表。
d. 定期更新热门商品列表，以反映商品热度的变化。
-好评商品（评分较高的商品）：
a. 从历史数据中统计各商品的用户评分。
b. 计算商品的平均评分，排除评分数量较少的商品。
c. 根据平均评分对商品进行排序，选取好评商品列表。
d. 定期更新好评商品列表，以反映新的评分数据。
-实时热门商品（基于Flink时间滑动窗口）：
a. 使用Flink构建实时数据处理任务，对过去一个小时内的商品浏览、购买等行为数据进行统计。
b. 设置时间滑动窗口，每5分钟滑动一次。
c. 对各商品的行为数据进行加权计算，得到实时热门程度。
d. 根据实时热门程度对商品进行排序，选取实时热门商品列表。
e. 将实时热门商品列表存储到HBase的onlineHot表中，以供Web端查询和展示。

### 【数据存储部分】
用户数据和商品数据：使用MySQL存储用户基本信息和商品基本信息
用户行为数据：使用分布式数据库HBase存储用户的评分、浏览记录、购买记录等大规模行为数据。同时，可以使用Kafka实现用户行为数据的实时采集和传输。
推荐结果数据：将离线推荐和实时推荐的结果分别存储在HBase中，以便后续查询和展示。

###【离线推荐部分】：
数据预处理：使用大数据处理框架对原始用户行为数据进行清洗、格式转换等操作，生成结构化的数据集。
用户画像构建：基于预处理后的数据集，为每个用户生成详细的用户画像，包括兴趣特征、消费习惯、购物偏好等多个维度。
离线推荐算法：使用多种推荐算法，计算商品之间和用户之间的相似度。结合用户画像和相似度计算结果，生成离线推荐商品列表。
结果存储：将离线推荐结果存储到HBase的offlineRecommend表中，以供后续查询和展示。

###【实时推荐部分】：
实时数据接收：使用Kafka消费者接收实时产生的用户行为数据（如评分、浏览记录、购买记录等）。
实时数据处理：使用Flink构建实时数据处理任务，对接收到的实时行为数据进行分析和计算，包括实时TopN商品和基于用户行为的实时推荐。
实时推荐算法：结合用户画像和实时行为数据，使用多种推荐算法生成实时推荐商品列表。
结果存储：将实时推荐结果存储到HBase的onlineRecommend表中，以供后续查询和展示。

### 功能的实现:
DataLoaderTask类的主要目的是从CSV文件中读取产品评分数据，并将其转换为RatingEntity对象，然后将这些数据存储到HBase中
在OfflineRecommender包中,有itemCF和Statistics两种数据处理方法:
基于ItemCF（Item-based Collaborative Filtering）算法计算商品相似度。代码中的ItemCFTask类的主要目的是从HBase中读取用户对商品的评分数据，计算商品之间的相似度，并将结果存储回HBase。
实时商品排名任务，基于Flink流处理环境，从Kafka中读取评分数据，并根据每小时内商品的点击量（将每次评分视为一次点击）计算实时热门商品TopN榜单
